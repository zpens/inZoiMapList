<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>inZOI 부지 리스트</title>
<link rel="stylesheet" href="css/style.css">
</head>
<body>
<div class="app">
  <!-- Header -->
  <div class="header">
    <h1><span>inZOI</span> 부지 리스트</h1>
    <div class="city-tabs">
      <button class="city-tab active" data-city="Gangnam">도원</button>
      <button class="city-tab" data-city="RedCity">블리스베이</button>
      <button class="city-tab" data-city="Cahaya">차하야</button>
    </div>
    <div class="header-controls">
      <button class="btn btn-accent" id="btnSavePositions">💾 위치 저장</button>
      <button class="btn" id="btnUploadMap">🗺️ 지도 업로드</button>
      <button class="btn" id="btnSaveImages">🖼️ 지도 이미지 저장</button>
      <button class="btn btn-sm" id="btnExport">📦 전체 백업</button>
      <button class="btn btn-sm" id="btnImport">📂 불러오기</button>
    </div>
  </div>
  <!-- Left Panel -->
  <div class="left-panel">
    <div class="panel-header">
      <span>부지 목록</span>
      <span id="siteCount" style="font-size:11px;color:var(--text2)">0개</span>
    </div>
    <div class="search-box">
      <input type="text" id="searchInput" placeholder="부지명 또는 ID 검색...">
    </div>
    <div class="filter-bar">
      <button class="filter-chip active" data-type="all">전체</button>
      <button class="filter-chip" data-type="Residence">🏠 주거</button>
      <button class="filter-chip" data-type="Business">🏢 비즈니스</button>
      <button class="filter-chip" data-type="Public">🌳 공용</button>
      <button class="filter-chip" data-type="Override">⭐ 오버라이드</button>
      <button class="filter-chip" data-type="Memo">📝 메모</button>
    </div>
    <div class="site-list" id="siteList"></div>
    <div class="stats-bar">
      <span id="placedCount">배치: 0개</span>
      <span id="unplacedCount">미배치: 0개</span>
    </div>
  </div>
  <!-- Canvas -->
  <div class="canvas-area" id="canvasArea">
    <div class="canvas-container" id="canvasContainer">
      <img class="map-image" id="mapImage" style="display:none">
    </div>
    <div class="map-placeholder" id="mapPlaceholder">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l5.447 2.724A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"/></svg>
      <p>지도 이미지를 업로드하세요</p>
      <small>"지도 업로드" 버튼 또는 여기에 이미지를 드래그</small>
    </div>
    <div class="upload-overlay" id="uploadOverlay">
      <div class="upload-box" id="uploadBox">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 16V4m0 0L8 8m4-4l4 4M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1"/></svg>
        <p>지도 이미지를 드래그하거나 클릭하여 업로드</p>
        <small>PNG, JPG, WEBP 지원</small>
        <input type="file" id="mapFileInput" accept="image/*" style="display:none">
      </div>
    </div>
    <div class="mode-indicator" id="modeIndicator">📌 클릭하여 부지 배치</div>
    <div class="zoom-controls">
      <button class="zoom-btn" id="panUp" title="위로 이동">↑</button>
      <div style="display:flex;gap:4px">
        <button class="zoom-btn" id="panLeft" title="왼쪽 이동">←</button>
        <button class="zoom-btn" id="panRight" title="오른쪽 이동">→</button>
      </div>
      <button class="zoom-btn" id="panDown" title="아래로 이동">↓</button>
      <button class="zoom-btn" id="zoomFit" title="전체 보기 (이미지에 맞춤)">⊡</button>
    </div>
    <div class="zoom-info" id="zoomInfo">100%</div>
    <div class="opacity-control" id="opacityControl">
      <label>🗺️ 지도 투명도</label>
      <input type="range" id="mapOpacity" min="0" max="100" value="60">
      <span id="opacityValue">60%</span>
    </div>
  </div>
  <!-- Right Panel -->
  <div class="right-panel">
    <div class="panel-header">상세 정보</div>
    <div class="detail-empty" id="detailEmpty">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
      <p style="font-size:13px">부지를 선택하면<br>상세 정보가 표시됩니다</p>
    </div>
    <div class="detail-content" id="detailContent" style="display:none"></div>
  </div>
</div>
<!-- Context Menu -->
<div class="context-menu" id="contextMenu">
  <div class="context-menu-item" id="ctxMoveSite">📍 위치 이동</div>
  <div class="context-menu-item danger" id="ctxRemoveSite">🗑️ 배치 해제</div>
</div>
<!-- Toast -->
<div class="toast" id="toast"></div>
<script src="js/app.js"></script>
</body>
</html>
